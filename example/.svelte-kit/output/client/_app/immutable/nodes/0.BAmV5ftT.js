import{v as Ar,s as Re,c as B,a as i,r as we,f as I,b as K,w as Nt,p as Y,i as oe,d as kr,t as se,x as Ot}from"../chunks/CDtJAJDW.js";import{al as Nr,E as Lr,ba as Mr,aT as Ur,d as Fr,u as Dr,bb as Br,bc as qr,bd as jr,aO as wr,b6 as Vr,q as Gr,n as me,J as Le,K as Jt,x as d,M as ge,p as ve,f as x,c as pe,B as k,G as te,D as E,A as $,F as z,I as re,be as Hr,L as Wr,t as zr}from"../chunks/43DoFiGK.js";import{I as gt,s as _e,e as Ke,i as it,b as xt,a as lt,f as ct,c as qt,r as or,g as Jr}from"../chunks/B5-rS708.js";import{p as Xr}from"../chunks/BC2wu9jn.js";import{B as ye,c as mt}from"../chunks/DnayzfWM.js";import{c as U}from"../chunks/BqN1ELlW.js";import{C as Yr,a as Lt,b as kt,S as Qr,E as Zr,w as $r,P as ar,c as Pe,o as Kr,d as en,g as tn,e as Mt,m as et,n as pt,F as rn,f as nn,D as sn,T as on,h as ir,i as an,j as xr,I as ft,k as ln}from"../chunks/B4gfF3h4.js";import{b as Kt}from"../chunks/DcIzPOfe.js";const cn=()=>performance.now(),ze={tick:t=>requestAnimationFrame(t),now:()=>cn(),tasks:new Set};function Pr(){const t=ze.now();ze.tasks.forEach(e=>{e.c(t)||(ze.tasks.delete(e),e.f())}),ze.tasks.size!==0&&ze.tick(Pr)}function un(t){let e;return ze.tasks.size===0&&ze.tick(Pr),{promise:new Promise(n=>{ze.tasks.add(e={c:t,f:n})}),abort(){ze.tasks.delete(e)}}}function St(t,e){wr(()=>{t.dispatchEvent(new CustomEvent(e))})}function dn(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function lr(t){const e={},n=t.split(";");for(const s of n){const[o,r]=s.split(":");if(!o||r===void 0)break;const a=dn(o.trim());e[a]=r.trim()}return e}const fn=t=>t;function cr(t,e,n,s){var o=(t&qr)!==0,r=(t&jr)!==0,a=o&&r,u=(t&Br)!==0,c=a?"both":o?"in":"out",f,l=e.inert,y=e.style.overflow,p,w;function m(){return wr(()=>f??=n()(e,s?.()??{},{direction:c}))}var T={is_global:u,in(){if(e.inert=l,!o){w?.abort(),w?.reset?.();return}r||p?.abort(),St(e,"introstart"),p=Xt(e,m(),w,1,()=>{St(e,"introend"),p?.abort(),p=f=void 0,e.style.overflow=y})},out(F){if(!r){F?.(),f=void 0;return}e.inert=!0,St(e,"outrostart"),w=Xt(e,m(),p,0,()=>{St(e,"outroend"),F?.()})},stop:()=>{p?.abort(),w?.abort()}},q=Nr;if((q.nodes.t??=[]).push(T),o&&Ar){var Q=u;if(!Q){for(var L=q.parent;L&&(L.f&Lr)!==0;)for(;(L=L.parent)&&(L.f&Mr)===0;);Q=!L||(L.f&Ur)!==0}Q&&Fr(()=>{Dr(()=>T.in())})}}function Xt(t,e,n,s,o){var r=s===1;if(Vr(e)){var a,u=!1;return Gr(()=>{if(!u){var q=e({direction:r?"in":"out"});a=Xt(t,q,n,s,o)}}),{abort:()=>{u=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n?.deactivate(),!e?.duration)return o(),{abort:me,deactivate:me,reset:me,t:()=>s};const{delay:c=0,css:f,tick:l,easing:y=fn}=e;var p=[];if(r&&n===void 0&&(l&&l(0,1),f)){var w=lr(f(0,1));p.push(w,w)}var m=()=>1-s,T=t.animate(p,{duration:c,fill:"forwards"});return T.onfinish=()=>{T.cancel();var q=n?.t()??1-s;n?.abort();var Q=s-q,L=e.duration*Math.abs(Q),F=[];if(L>0){var h=!1;if(f)for(var $e=Math.ceil(L/16.666666666666668),G=0;G<=$e;G+=1){var ke=q+Q*y(G/$e),Ee=lr(f(ke,1-ke));F.push(Ee),h||=Ee.overflow==="hidden"}h&&(t.style.overflow="hidden"),m=()=>{var Oe=T.currentTime;return q+Q*y(Oe/L)},l&&un(()=>{if(T.playState!=="running")return!1;var Oe=m();return l(Oe,1-Oe),!0})}T=t.animate(F,{duration:L,fill:"forwards"}),T.onfinish=()=>{m=()=>s,l?.(s,1-s),o()}},{abort:()=>{T&&(T.cancel(),T.effect=null,T.onfinish=me)},deactivate:()=>{o=me},reset:()=>{s===0&&l?.(1,0)},t:()=>m()}}const jt=Symbol.for("better-auth:broadcast-channel"),vn=()=>Math.floor(Date.now()/1e3);var pn=class{listeners=new Set;name;constructor(t="better-auth.message"){this.name=t}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}post(t){if(!(typeof window>"u"))try{localStorage.setItem(this.name,JSON.stringify({...t,timestamp:vn()}))}catch{}}setup(){if(typeof window>"u"||typeof window.addEventListener>"u")return()=>{};const t=e=>{if(e.key!==this.name)return;const n=JSON.parse(e.newValue??"{}");n?.event!=="session"||!n?.data||this.listeners.forEach(s=>s(n))};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}}};function Vt(t="better-auth.message"){return globalThis[jt]||(globalThis[jt]=new pn(t)),globalThis[jt]}const Gt=Symbol.for("better-auth:focus-manager");var hn=class{listeners=new Set;subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}setFocused(t){this.listeners.forEach(e=>e(t))}setup(){if(typeof window>"u"||typeof document>"u"||typeof window.addEventListener>"u")return()=>{};const t=()=>{document.visibilityState==="visible"&&this.setFocused(!0)};return document.addEventListener("visibilitychange",t,!1),()=>{document.removeEventListener("visibilitychange",t,!1)}}};function ur(){return globalThis[Gt]||(globalThis[Gt]=new hn),globalThis[Gt]}const Ht=Symbol.for("better-auth:online-manager");var gn=class{listeners=new Set;isOnline=typeof navigator<"u"?navigator.onLine:!0;subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}setOnline(t){this.isOnline=t,this.listeners.forEach(e=>e(t))}setup(){if(typeof window>"u"||typeof window.addEventListener>"u")return()=>{};const t=()=>this.setOnline(!0),e=()=>this.setOnline(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t,!1),window.removeEventListener("offline",e,!1)}}};function Wt(){return globalThis[Ht]||(globalThis[Ht]=new gn),globalThis[Ht]}let Fe=[],Ye=0;const Rt=4;let Or=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(s){return n.lc=e.push(s),()=>{for(let r=Ye+Rt;r<Fe.length;)Fe[r]===s?Fe.splice(r,Rt):r+=Rt;let o=e.indexOf(s);~o&&(e.splice(o,1),--n.lc||n.off())}},notify(s,o){let r=!Fe.length;for(let a of e)Fe.push(a,n.value,s,o);if(r){for(Ye=0;Ye<Fe.length;Ye+=Rt)Fe[Ye](Fe[Ye+1],Fe[Ye+2],Fe[Ye+3]);Fe.length=0}},off(){},set(s){let o=n.value;o!==s&&(n.value=s,n.notify(o))},subscribe(s){let o=n.listen(s);return s(n.value),o},value:t};return n};const mn=5,Et=6,Tt=10;let _n=(t,e,n,s)=>(t.events=t.events||{},t.events[n+Tt]||(t.events[n+Tt]=s(o=>{t.events[n].reduceRight((r,a)=>(a(r),r),{shared:{},...o})})),t.events[n]=t.events[n]||[],t.events[n].push(e),()=>{let o=t.events[n],r=o.indexOf(e);o.splice(r,1),o.length||(delete t.events[n],t.events[n+Tt](),delete t.events[n+Tt])}),yn=1e3,Sr=(t,e)=>_n(t,s=>{let o=e(s);o&&t.events[Et].push(o)},mn,s=>{let o=t.listen;t.listen=(...a)=>(!t.lc&&!t.active&&(t.active=!0,s()),o(...a));let r=t.off;return t.events[Et]=[],t.off=()=>{r(),setTimeout(()=>{if(t.active&&!t.lc){t.active=!1;for(let a of t.events[Et])a();t.events[Et]=[]}},yn)},()=>{t.listen=o,t.off=r}});const bn=()=>typeof window>"u",wn=(t,e,n,s)=>{const o=Or({data:null,error:null,isPending:!0,isRefetching:!1,refetch:u=>r(u)}),r=async u=>new Promise(c=>{const f=typeof s=="function"?s({data:o.get().data,error:o.get().error,isPending:o.get().isPending}):s;n(e,{...f,query:{...f?.query,...u?.query},async onSuccess(l){o.set({data:l.data,error:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch}),await f?.onSuccess?.(l)},async onError(l){const{request:y}=l,p=typeof y.retry=="number"?y.retry:y.retry?.attempts,w=y.retryAttempt||0;p&&w<p||(o.set({error:l.error,data:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch}),await f?.onError?.(l))},async onRequest(l){const y=o.get();o.set({isPending:y.data===null,data:y.data,error:null,isRefetching:!0,refetch:o.value.refetch}),await f?.onRequest?.(l)}}).catch(l=>{o.set({error:l,data:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch})}).finally(()=>{c(void 0)})});t=Array.isArray(t)?t:[t];let a=!1;for(const u of t)u.subscribe(async()=>{bn()||(a?await r():Sr(o,()=>{const c=setTimeout(async()=>{a||(await r(),a=!0)},0);return()=>{o.off(),u.off(),clearTimeout(c)}}))});return o},vt=()=>Math.floor(Date.now()/1e3),$n=5;function xn(t){const{sessionAtom:e,sessionSignal:n,$fetch:s,options:o={}}=t,r=o.sessionOptions?.refetchInterval??0,a=o.sessionOptions?.refetchOnWindowFocus??!0,u=o.sessionOptions?.refetchWhenOffline??!1,c={lastSync:0,lastSessionRequest:0,cachedSession:void 0},f=()=>u||Wt().isOnline,l=L=>{if(!f())return;if(L?.event==="storage"){c.lastSync=vt(),n.set(!n.get());return}const F=e.get();if(L?.event==="poll"){c.lastSessionRequest=vt(),s("/get-session").then(h=>{e.set({...F,data:h.data,error:h.error||null}),c.lastSync=vt(),n.set(!n.get())}).catch(()=>{});return}L?.event==="visibilitychange"&&vt()-c.lastSessionRequest<$n&&F?.data!==null&&F?.data!==void 0||(F?.data===null||F?.data===void 0||L?.event==="visibilitychange")&&(L?.event==="visibilitychange"&&(c.lastSessionRequest=vt()),c.lastSync=vt(),n.set(!n.get()))},y=L=>{Vt().post({event:"session",data:{trigger:L},clientId:Math.random().toString(36).substring(7)})},p=()=>{r&&r>0&&(c.pollInterval=setInterval(()=>{e.get()?.data&&l({event:"poll"})},r*1e3))},w=()=>{c.unsubscribeBroadcast=Vt().subscribe(()=>{l({event:"storage"})})},m=()=>{a&&(c.unsubscribeFocus=ur().subscribe(()=>{l({event:"visibilitychange"})}))},T=()=>{c.unsubscribeOnline=Wt().subscribe(L=>{L&&l({event:"visibilitychange"})})};return{init:()=>{p(),w(),m(),T(),Vt().setup(),ur().setup(),Wt().setup()},cleanup:()=>{c.pollInterval&&(clearInterval(c.pollInterval),c.pollInterval=void 0),c.unsubscribeBroadcast&&(c.unsubscribeBroadcast(),c.unsubscribeBroadcast=void 0),c.unsubscribeFocus&&(c.unsubscribeFocus(),c.unsubscribeFocus=void 0),c.unsubscribeOnline&&(c.unsubscribeOnline(),c.unsubscribeOnline=void 0),c.lastSync=0,c.lastSessionRequest=0,c.cachedSession=void 0},triggerRefetch:l,broadcastSessionUpdate:y}}var Pn={},dr={};const It=Object.create(null),wt=t=>Pn||globalThis.Deno?.env.toObject()||globalThis.__env__||(t?It:globalThis),Me=new Proxy(It,{get(t,e){return wt()[e]??It[e]},has(t,e){return e in wt()||e in It},set(t,e,n){const s=wt(!0);return s[e]=n,!0},deleteProperty(t,e){if(!e)return!1;const n=wt(!0);return delete n[e],!0},ownKeys(){const t=wt(!0);return Object.keys(t)}});function he(t,e){return typeof process<"u"&&dr?dr[t]??e:typeof Deno<"u"?Deno.env.get(t)??e:typeof Bun<"u"?Bun.env[t]??e:e}const $t=1,be=4,Ve=8,Ae=24,fr={eterm:be,cons25:be,console:be,cygwin:be,dtterm:be,gnome:be,hurd:be,jfbterm:be,konsole:be,kterm:be,mlterm:be,mosh:Ae,putty:be,st:be,"rxvt-unicode-24bit":Ae,terminator:Ae,"xterm-kitty":Ae},On=new Map(Object.entries({APPVEYOR:Ve,BUILDKITE:Ve,CIRCLECI:Ae,DRONE:Ve,GITEA_ACTIONS:Ae,GITHUB_ACTIONS:Ae,GITLAB_CI:Ve,TRAVIS:Ve})),Sn=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/];function Rn(){if(he("FORCE_COLOR")!==void 0)switch(he("FORCE_COLOR")){case"":case"1":case"true":return be;case"2":return Ve;case"3":return Ae;default:return $t}if(he("NODE_DISABLE_COLORS")!==void 0&&he("NODE_DISABLE_COLORS")!==""||he("NO_COLOR")!==void 0&&he("NO_COLOR")!==""||he("TERM")==="dumb")return $t;if(he("TMUX"))return Ae;if("TF_BUILD"in Me&&"AGENT_NAME"in Me)return be;if("CI"in Me){for(const{0:t,1:e}of On)if(t in Me)return e;return he("CI_NAME")==="codeship"?Ve:$t}if("TEAMCITY_VERSION"in Me)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(he("TEAMCITY_VERSION"))!==null?be:$t;switch(he("TERM_PROGRAM")){case"iTerm.app":return!he("TERM_PROGRAM_VERSION")||/^[0-2]\./.exec(he("TERM_PROGRAM_VERSION"))!==null?Ve:Ae;case"HyperTerm":case"MacTerm":return Ae;case"Apple_Terminal":return Ve}if(he("COLORTERM")==="truecolor"||he("COLORTERM")==="24bit")return Ae;if(he("TERM")){if(/truecolor/.exec(he("TERM"))!==null)return Ae;if(/^xterm-256/.exec(he("TERM"))!==null)return Ve;const t=he("TERM").toLowerCase();if(fr[t])return fr[t];if(Sn.some(e=>e.exec(t)!==null))return be}return he("COLORTERM")?be:$t}const Ge={reset:"\x1B[0m",bright:"\x1B[1m",dim:"\x1B[2m",fg:{red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m"}},Yt=["debug","info","success","warn","error"];function En(t,e){return Yt.indexOf(e)>=Yt.indexOf(t)}const Tn={info:Ge.fg.blue,success:Ge.fg.green,warn:Ge.fg.yellow,error:Ge.fg.red,debug:Ge.fg.magenta},In=(t,e,n)=>{const s=new Date().toISOString();return n?`${Ge.dim}${s}${Ge.reset} ${Tn[t]}${t.toUpperCase()}${Ge.reset} ${Ge.bright}[Better Auth]:${Ge.reset} ${e}`:`${s} ${t.toUpperCase()} [Better Auth]: ${e}`},Cn=t=>{const e="error",n=Rn()!==1,s=(o,r,a=[])=>{if(!En(e,o))return;const u=In(o,r,n);{o==="error"?console.error(u,...a):o==="warn"?console.warn(u,...a):console.log(u,...a);return}};return{...Object.fromEntries(Yt.map(o=>[o,(...[r,...a])=>s(o,r,a)])),get level(){return e}}};Cn();function An(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Ct=class extends Error{constructor(t,e){super(t),this.name="BetterAuthError",this.message=t,this.cause=e,this.stack=""}};function kn(t){try{return(new URL(t).pathname.replace(/\/+$/,"")||"/")!=="/"}catch{throw new Ct(`Invalid base URL: ${t}. Please provide a valid base URL.`)}}function Nn(t){try{const e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new Ct(`Invalid base URL: ${t}. URL must include 'http://' or 'https://'`)}catch(e){throw e instanceof Ct?e:new Ct(`Invalid base URL: ${t}. Please provide a valid base URL.`,String(e))}}function zt(t,e="/api/auth"){if(Nn(t),kn(t))return t;const n=t.replace(/\/+$/,"");return!e||e==="/"?n:(e=e.startsWith("/")?e:`/${e}`,`${n}${e}`)}function Ln(t,e,n,s,o){if(t)return zt(t,e);{const r=Me.BETTER_AUTH_URL||Me.NEXT_PUBLIC_BETTER_AUTH_URL||Me.PUBLIC_BETTER_AUTH_URL||Me.NUXT_PUBLIC_BETTER_AUTH_URL||Me.NUXT_PUBLIC_AUTH_URL||(Me.BASE_URL!=="/"?Me.BASE_URL:void 0);if(r)return zt(r,e)}if(typeof window<"u"&&window.location)return zt(window.location.origin,e)}const Mn={id:"redirect",name:"Redirect",hooks:{onSuccess(t){if(t.data?.url&&t.data?.redirect&&typeof window<"u"&&window.location&&window.location)try{window.location.href=t.data.url}catch{}}}},Un={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},Fn=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,vr={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},Dn=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/;function Bn(t){return t instanceof Date&&!isNaN(t.getTime())}function qn(t){const e=Dn.exec(t);if(!e)return null;const[,n,s,o,r,a,u,c,f,l,y]=e;let p=new Date(Date.UTC(parseInt(n,10),parseInt(s,10)-1,parseInt(o,10),parseInt(r,10),parseInt(a,10),parseInt(u,10),c?parseInt(c.padEnd(3,"0"),10):0));if(f){const w=(parseInt(l,10)*60+parseInt(y,10))*(f==="+"?-1:1);p.setUTCMinutes(p.getUTCMinutes()+w)}return Bn(p)?p:null}function jn(t,e={}){const{strict:n=!1,warnings:s=!1,reviver:o,parseDates:r=!0}=e;if(typeof t!="string")return t;const a=t.trim();if(a.length>0&&a[0]==='"'&&a.endsWith('"')&&!a.slice(1,-1).includes('"'))return a.slice(1,-1);const u=a.toLowerCase();if(u.length<=9&&u in vr)return vr[u];if(!Fn.test(a)){if(n)throw new SyntaxError("[better-json] Invalid JSON");return t}if(Object.entries(Un).some(([c,f])=>{const l=f.test(a);return l&&s&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${c} pattern`),l})&&n)throw new Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(a,(f,l)=>{if(f==="__proto__"||f==="constructor"&&l&&typeof l=="object"&&"prototype"in l){s&&console.warn(`[better-json] Dropping "${f}" key to prevent prototype pollution`);return}if(r&&typeof l=="string"){const y=qn(l);if(y)return y}return o?o(f,l):l})}catch(c){if(n)throw c;return t}}function Vn(t,e={strict:!0}){return jn(t,e)}function Gn(t,e){const n=Or(!1),s=wn(n,"/get-session",t,{method:"GET"});return Sr(s,()=>{const o=xn({sessionAtom:s,sessionSignal:n,$fetch:t,options:e});return o.init(),()=>{o.cleanup()}}),{session:s,$sessionSignal:n}}var Hn=Object.defineProperty,Wn=Object.defineProperties,zn=Object.getOwnPropertyDescriptors,pr=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Xn=Object.prototype.propertyIsEnumerable,hr=(t,e,n)=>e in t?Hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,De=(t,e)=>{for(var n in e||(e={}))Jn.call(e,n)&&hr(t,n,e[n]);if(pr)for(var n of pr(e))Xn.call(e,n)&&hr(t,n,e[n]);return t},je=(t,e)=>Wn(t,zn(e)),Yn=class extends Error{constructor(t,e,n){super(e||t.toString(),{cause:n}),this.status=t,this.statusText=e,this.error=n,Error.captureStackTrace(this,this.constructor)}},Qn=async(t,e)=>{var n,s,o,r,a,u;let c=e||{};const f={onRequest:[e?.onRequest],onResponse:[e?.onResponse],onSuccess:[e?.onSuccess],onError:[e?.onError],onRetry:[e?.onRetry]};if(!e||!e?.plugins)return{url:t,options:c,hooks:f};for(const l of e?.plugins||[]){if(l.init){const y=await((n=l.init)==null?void 0:n.call(l,t.toString(),e));c=y.options||c,t=y.url}f.onRequest.push((s=l.hooks)==null?void 0:s.onRequest),f.onResponse.push((o=l.hooks)==null?void 0:o.onResponse),f.onSuccess.push((r=l.hooks)==null?void 0:r.onSuccess),f.onError.push((a=l.hooks)==null?void 0:a.onError),f.onRetry.push((u=l.hooks)==null?void 0:u.onRetry)}return{url:t,options:c,hooks:f}},gr=class{constructor(t){this.options=t}shouldAttemptRetry(t,e){return this.options.shouldRetry?Promise.resolve(t<this.options.attempts&&this.options.shouldRetry(e)):Promise.resolve(t<this.options.attempts)}getDelay(){return this.options.delay}},Zn=class{constructor(t){this.options=t}shouldAttemptRetry(t,e){return this.options.shouldRetry?Promise.resolve(t<this.options.attempts&&this.options.shouldRetry(e)):Promise.resolve(t<this.options.attempts)}getDelay(t){return Math.min(this.options.maxDelay,this.options.baseDelay*2**t)}};function Kn(t){if(typeof t=="number")return new gr({type:"linear",attempts:t,delay:1e3});switch(t.type){case"linear":return new gr(t);case"exponential":return new Zn(t);default:throw new Error("Invalid retry strategy")}}var es=async t=>{const e={},n=async s=>typeof s=="function"?await s():s;if(t?.auth){if(t.auth.type==="Bearer"){const s=await n(t.auth.token);if(!s)return e;e.authorization=`Bearer ${s}`}else if(t.auth.type==="Basic"){const[s,o]=await Promise.all([n(t.auth.username),n(t.auth.password)]);if(!s||!o)return e;e.authorization=`Basic ${btoa(`${s}:${o}`)}`}else if(t.auth.type==="Custom"){const[s,o]=await Promise.all([n(t.auth.prefix),n(t.auth.value)]);if(!o)return e;e.authorization=`${s??""} ${o}`}}return e},ts=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function rs(t){const e=t.headers.get("content-type"),n=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!e)return"json";const s=e.split(";").shift()||"";return ts.test(s)?"json":n.has(s)||s.startsWith("text/")?"text":"blob"}function ns(t){try{return JSON.parse(t),!0}catch{return!1}}function Qt(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}function mr(t){try{return JSON.parse(t)}catch{return t}}function _r(t){return typeof t=="function"}function ss(t){if(t?.customFetchImpl)return t.customFetchImpl;if(typeof globalThis<"u"&&_r(globalThis.fetch))return globalThis.fetch;if(typeof window<"u"&&_r(window.fetch))return window.fetch;throw new Error("No fetch implementation found")}async function os(t){const e=new Headers(t?.headers),n=await es(t);for(const[s,o]of Object.entries(n||{}))e.set(s,o);if(!e.has("content-type")){const s=as(t?.body);s&&e.set("content-type",s)}return e}function as(t){return Qt(t)?"application/json":null}function is(t){if(!t?.body)return null;const e=new Headers(t?.headers);if(Qt(t.body)&&!e.has("content-type")){for(const[n,s]of Object.entries(t?.body))s instanceof Date&&(t.body[n]=s.toISOString());return JSON.stringify(t.body)}return e.has("content-type")&&e.get("content-type")==="application/x-www-form-urlencoded"&&Qt(t.body)?new URLSearchParams(t.body).toString():t.body}function ls(t,e){var n;if(e?.method)return e.method.toUpperCase();if(t.startsWith("@")){const s=(n=t.split("@")[1])==null?void 0:n.split("/")[0];return Er.includes(s)?s.toUpperCase():e?.body?"POST":"GET"}return e?.body?"POST":"GET"}function cs(t,e){let n;return!t?.signal&&t?.timeout&&(n=setTimeout(()=>e?.abort(),t?.timeout)),{abortTimeout:n,clearTimeout:()=>{n&&clearTimeout(n)}}}var us=class Rr extends Error{constructor(e,n){super(n||JSON.stringify(e,null,2)),this.issues=e,Object.setPrototypeOf(this,Rr.prototype)}};async function At(t,e){const n=await t["~standard"].validate(e);if(n.issues)throw new us(n.issues);return n.value}var Er=["get","post","put","patch","delete"],ds=t=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(e,n){var s,o,r,a;const u=((o=(s=t.plugins)==null?void 0:s.find(c=>{var f;return(f=c.schema)!=null&&f.config?e.startsWith(c.schema.config.baseURL||"")||e.startsWith(c.schema.config.prefix||""):!1}))==null?void 0:o.schema)||t.schema;if(u){let c=e;(r=u.config)!=null&&r.prefix&&c.startsWith(u.config.prefix)&&(c=c.replace(u.config.prefix,""),u.config.baseURL&&(e=e.replace(u.config.prefix,u.config.baseURL))),(a=u.config)!=null&&a.baseURL&&c.startsWith(u.config.baseURL)&&(c=c.replace(u.config.baseURL,""));const f=u.schema[c];if(f){let l=je(De({},n),{method:f.method,output:f.output});return n?.disableValidation||(l=je(De({},l),{body:f.input?await At(f.input,n?.body):n?.body,params:f.params?await At(f.params,n?.params):n?.params,query:f.query?await At(f.query,n?.query):n?.query})),{url:e,options:l}}}return{url:e,options:n}}}),fs=t=>{async function e(n,s){const o=je(De(De({},t),s),{plugins:[...t?.plugins||[],ds(t||{}),...s?.plugins||[]]});if(t?.catchAllError)try{return await Zt(n,o)}catch(r){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:r}}}return await Zt(n,o)}return e};function vs(t,e){const{baseURL:n,params:s,query:o}=e||{query:{},params:{},baseURL:""};let r=t.startsWith("http")?t.split("/").slice(0,3).join("/"):n||"";if(t.startsWith("@")){const y=t.toString().split("@")[1].split("/")[0];Er.includes(y)&&(t=t.replace(`@${y}/`,"/"))}r.endsWith("/")||(r+="/");let[a,u]=t.replace(r,"").split("?");const c=new URLSearchParams(u);for(const[y,p]of Object.entries(o||{})){if(p==null)continue;let w;if(typeof p=="string")w=p;else if(Array.isArray(p)){for(const m of p)c.append(y,m);continue}else w=JSON.stringify(p);c.set(y,w)}if(s)if(Array.isArray(s)){const y=a.split("/").filter(p=>p.startsWith(":"));for(const[p,w]of y.entries()){const m=s[p];a=a.replace(w,m)}}else for(const[y,p]of Object.entries(s))a=a.replace(`:${y}`,String(p));a=a.split("/").map(encodeURIComponent).join("/"),a.startsWith("/")&&(a=a.slice(1));let f=c.toString();return f=f.length>0?`?${f}`.replace(/\+/g,"%20"):"",r.startsWith("http")?new URL(`${a}${f}`,r):`${r}${a}${f}`}var Zt=async(t,e)=>{var n,s,o,r,a,u,c,f;const{hooks:l,url:y,options:p}=await Qn(t,e),w=ss(p),m=new AbortController,T=(n=p.signal)!=null?n:m.signal,q=vs(y,p),Q=is(p),L=await os(p),F=ls(y,p);let h=je(De({},p),{url:q,headers:L,body:Q,method:F,signal:T});for(const xe of l.onRequest)if(xe){const ae=await xe(h);typeof ae=="object"&&ae!==null&&(h=ae)}("pipeTo"in h&&typeof h.pipeTo=="function"||typeof((s=e?.body)==null?void 0:s.pipe)=="function")&&("duplex"in h||(h.duplex="half"));const{clearTimeout:$e}=cs(p,m);let G=await w(h.url,h);$e();const ke={response:G,request:h};for(const xe of l.onResponse)if(xe){const ae=await xe(je(De({},ke),{response:(o=e?.hookOptions)!=null&&o.cloneResponse?G.clone():G}));ae instanceof Response?G=ae:typeof ae=="object"&&ae!==null&&(G=ae.response)}if(G.ok){if(!(h.method!=="HEAD"))return{data:"",error:null};const ae=rs(G),Te={data:null,response:G,request:h};if(ae==="json"||ae==="text"){const Ie=await G.text(),_t=(r=h.jsonParser)!=null?r:mr;Te.data=await _t(Ie)}else Te.data=await G[ae]();h?.output&&h.output&&!h.disableValidation&&(Te.data=await At(h.output,Te.data));for(const Ie of l.onSuccess)Ie&&await Ie(je(De({},Te),{response:(a=e?.hookOptions)!=null&&a.cloneResponse?G.clone():G}));return e?.throw?Te.data:{data:Te.data,error:null}}const Ee=(u=e?.jsonParser)!=null?u:mr,Oe=await G.text(),Ce=ns(Oe),He=Ce?await Ee(Oe):null,ut={response:G,responseText:Oe,request:h,error:je(De({},He),{status:G.status,statusText:G.statusText})};for(const xe of l.onError)xe&&await xe(je(De({},ut),{response:(c=e?.hookOptions)!=null&&c.cloneResponse?G.clone():G}));if(e?.retry){const xe=Kn(e.retry),ae=(f=e.retryAttempt)!=null?f:0;if(await xe.shouldAttemptRetry(ae,G)){for(const Ie of l.onRetry)Ie&&await Ie(ke);const Te=xe.getDelay(ae);return await new Promise(Ie=>setTimeout(Ie,Te)),await Zt(t,je(De({},e),{retryAttempt:ae+1}))}}if(e?.throw)throw new Yn(G.status,G.statusText,Ce?He:Oe);return{data:null,error:je(De({},He),{status:G.status,statusText:G.statusText})}};const ps=(t,e)=>{const n="credentials"in Request.prototype,s=Ln(t?.baseURL,t?.basePath)??"/api/auth",o=t?.plugins?.flatMap(h=>h.fetchPlugins).filter(h=>h!==void 0)||[],r={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:t?.fetchOptions?.onSuccess,onError:t?.fetchOptions?.onError,onRequest:t?.fetchOptions?.onRequest,onResponse:t?.fetchOptions?.onResponse}},{onSuccess:a,onError:u,onRequest:c,onResponse:f,...l}=t?.fetchOptions||{},y=fs({baseURL:s,...n?{credentials:"include"}:{},method:"GET",jsonParser(h){return h?Vn(h,{strict:!1}):null},customFetchImpl:fetch,...l,plugins:[r,...l.plugins||[],...t?.disableDefaultFetchPlugins?[]:[Mn],...o]}),{$sessionSignal:p,session:w}=Gn(y,t),m=t?.plugins||[];let T={},q={$sessionSignal:p,session:w},Q={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"};const L=[{signal:"$sessionSignal",matcher(h){return h==="/sign-out"||h==="/update-user"||h==="/sign-up/email"||h==="/sign-in/email"||h==="/delete-user"||h==="/verify-email"||h==="/revoke-sessions"||h==="/revoke-session"||h==="/change-email"}}];for(const h of m)h.getAtoms&&Object.assign(q,h.getAtoms?.(y)),h.pathMethods&&Object.assign(Q,h.pathMethods),h.atomListeners&&L.push(...h.atomListeners);const F={notify:h=>{q[h].set(!q[h].get())},listen:(h,$e)=>{q[h].subscribe($e)},atoms:q};for(const h of m)h.getActions&&Object.assign(T,h.getActions?.(y,F,t));return{get baseURL(){return s},pluginsActions:T,pluginsAtoms:q,pluginPathMethods:Q,atomListeners:L,$fetch:y,$store:F}};function hs(t){return typeof t=="object"&&t!==null&&"get"in t&&typeof t.get=="function"&&"lc"in t&&typeof t.lc=="number"}function gs(t,e,n){const s=e[t],{fetchOptions:o,query:r,...a}=n||{};return s||(o?.method?o.method:a&&Object.keys(a).length>0?"POST":"GET")}function ms(t,e,n,s,o){function r(a=[]){return new Proxy(function(){},{get(u,c){if(typeof c!="string"||c==="then"||c==="catch"||c==="finally")return;const f=[...a,c];let l=t;for(const y of f)if(l&&typeof l=="object"&&y in l)l=l[y];else{l=void 0;break}return typeof l=="function"||hs(l)?l:r(f)},apply:async(u,c,f)=>{const l="/"+a.map(L=>L.replace(/[A-Z]/g,F=>`-${F.toLowerCase()}`)).join("/"),y=f[0]||{},p=f[1]||{},{query:w,fetchOptions:m,...T}=y,q={...p,...m},Q=gs(l,n,y);return await e(l,{...q,body:Q==="GET"?void 0:{...T,...q?.body||{}},query:w||q?.query,method:Q,async onSuccess(L){if(await q?.onSuccess?.(L),!o||q.disableSignal)return;const F=o.filter(h=>h.matcher(l));if(F.length)for(const h of F){const $e=s[h.signal];if(!$e)return;const G=$e.get();setTimeout(()=>{$e.set(!G)},10)}}})}})}return r()}function _s(t){const{pluginPathMethods:e,pluginsActions:n,pluginsAtoms:s,$fetch:o,atomListeners:r,$store:a}=ps(t);let u={};for(const[c,f]of Object.entries(s))u[`use${An(c)}`]=f;return ms({...n,...u,$fetch:o,$store:a},o,e,s,r)}const ys=_s({}),{signIn:bs,signOut:ws,signUp:$s,useSession:zo}=ys;class xs{#e=Le(Jt({user:null,session:null,isLoading:!1}));get state(){return d(this.#e)}set state(e){ge(this.#e,e,!0)}get user(){return this.state.user}get session(){return this.state.session}get isLoading(){return this.state.isLoading}get isAuthenticated(){return!!this.state.user}initialize(e,n){this.state.user=e,this.state.session=n,this.state.isLoading=!1}async signIn(e,n){this.state.isLoading=!0;try{const s=await bs.email({email:e,password:n});return s.error?alert(s.error.message):(this.state.user=s.data.user,this.state.isLoading=!1,s)}catch(s){throw s}finally{this.state.isLoading=!1}}async signUp(e,n,s){this.state.isLoading=!0;try{const o=await $s.email({email:e,password:n,name:s||e.split("@")[0]});return o.error?alert(o.error.message):o}catch(o){throw o}finally{this.state.isLoading=!1}}async signOut(){this.state.isLoading=!0;try{await ws(),this.state.user=null,this.state.session=null,this.state.isLoading=!1}catch(e){throw e}finally{this.state.isLoading=!1}}updateSession(e,n){this.state.user=e,this.state.session=n,this.state.isLoading=!1}}const Ps=new xs;function Os(t,e){ve(e,!0);let n=we(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["path",{d:"M9 18c-4.51 2-5-2-7-2"}]];gt(t,Re({name:"github"},()=>n,{get iconNode(){return s},children:(o,r)=>{var a=B(),u=x(a);_e(u,()=>e.children??me),i(o,a)},$$slots:{default:!0}})),pe()}function Ss(t,e){ve(e,!0);let n=we(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"}],["path",{d:"M12 22V12"}],["polyline",{points:"3.29 7 12 12 20.71 7"}],["path",{d:"m7.5 4.27 9 5.15"}]];gt(t,Re({name:"package"},()=>n,{get iconNode(){return s},children:(o,r)=>{var a=B(),u=x(a);_e(u,()=>e.children??me),i(o,a)},$$slots:{default:!0}})),pe()}var Rs=I("<a> </a>"),Es=I('<!> <span class="hidden sm:inline ml-2">GitHub</span>',1),Ts=I('<header class="border-b bg-background relative z-50"><div class="container mx-auto px-6 py-4"><div class="flex items-center justify-between"><div class="flex items-center gap-8"><a href="/" class="flex items-center gap-2 hover:opacity-80 transition-opacity"><!> <span class="font-mono text-lg font-semibold">ironalarm</span></a> <nav class="hidden md:flex items-center gap-6 text-sm"></nav></div> <!></div></div></header>');function Is(t,e){ve(e,!0);let n=re(()=>Xr.url.pathname);const s=[{href:"/",label:"Home",isActive:p=>p==="/"},{href:"/docs",label:"Docs",isActive:p=>p==="/docs"},{href:"/docs/api",label:"API",isActive:p=>p==="/docs/api"},{href:"/mission",label:"Mission Control",isActive:p=>p==="/mission"}];var o=Ts(),r=k(o),a=k(r),u=k(a),c=k(u),f=k(c);Ss(f,{class:"h-5 w-5"}),te(2),E(c);var l=$(c,2);Ke(l,21,()=>s,it,(p,w)=>{var m=Rs(),T=k(m,!0);E(m),z(q=>{xt(m,"href",d(w).href),lt(m,1,`hover:text-foreground transition-colors ${q??""}`),K(T,d(w).label)},[()=>d(w).isActive(d(n))?"text-foreground font-medium":"text-muted-foreground"]),i(p,m)}),E(l),E(u);var y=$(u,2);ye(y,{variant:"outline",size:"sm",href:"https://github.com/acoyfellow/ironalarm",target:"_blank",rel:"noopener noreferrer",children:(p,w)=>{var m=Es(),T=x(m);Os(T,{class:"h-4 w-4"}),te(2),i(p,m)},$$slots:{default:!0}}),E(a),E(r),E(o),i(t,o),pe()}function Tr(t,e){ve(e,!0);let n=we(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];gt(t,Re({name:"x"},()=>n,{get iconNode(){return s},children:(o,r)=>{var a=B(),u=x(a);_e(u,()=>e.children??me),i(o,a)},$$slots:{default:!0}})),pe()}function Cs(t,e){ve(e,!0);let n=we(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];gt(t,Re({name:"upload"},()=>n,{get iconNode(){return s},children:(o,r)=>{var a=B(),u=x(a);_e(u,()=>e.children??me),i(o,a)},$$slots:{default:!0}})),pe()}function As(t,e){ve(e,!0);let n=we(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];gt(t,Re({name:"search"},()=>n,{get iconNode(){return s},children:(o,r)=>{var a=B(),u=x(a);_e(u,()=>e.children??me),i(o,a)},$$slots:{default:!0}})),pe()}function ks(t,e){ve(e,!0);let n=we(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];gt(t,Re({name:"loader"},()=>n,{get iconNode(){return s},children:(o,r)=>{var a=B(),u=x(a);_e(u,()=>e.children??me),i(o,a)},$$slots:{default:!0}})),pe()}function Ns(t){const e=t-1;return e*e*e+1}function yr(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function br(t,{delay:e=0,duration:n=400,easing:s=Ns,x:o=0,y:r=0,opacity:a=0}={}){const u=getComputedStyle(t),c=+u.opacity,f=u.transform==="none"?"":u.transform,l=c*(1-a),[y,p]=yr(o),[w,m]=yr(r);return{delay:e,duration:n,easing:s,css:(T,q)=>`
			transform: ${f} translate(${(1-T)*y}${p}, ${(1-T)*w}${m});
			opacity: ${c-l*q}`}}const Ls=en({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),ht=new Yr("Dialog.Root | AlertDialog.Root");class er{static create(e){const n=ht.getOr(null);return ht.set(new er(e,n))}opts;#e=Le(null);get triggerNode(){return d(this.#e)}set triggerNode(e){ge(this.#e,e,!0)}#t=Le(null);get contentNode(){return d(this.#t)}set contentNode(e){ge(this.#t,e,!0)}#r=Le(null);get overlayNode(){return d(this.#r)}set overlayNode(e){ge(this.#r,e,!0)}#n=Le(null);get descriptionNode(){return d(this.#n)}set descriptionNode(e){ge(this.#n,e,!0)}#s=Le(void 0);get contentId(){return d(this.#s)}set contentId(e){ge(this.#s,e,!0)}#o=Le(void 0);get titleId(){return d(this.#o)}set titleId(e){ge(this.#o,e,!0)}#a=Le(void 0);get triggerId(){return d(this.#a)}set triggerId(e){ge(this.#a,e,!0)}#i=Le(void 0);get descriptionId(){return d(this.#i)}set descriptionId(e){ge(this.#i,e,!0)}#l=Le(null);get cancelNode(){return d(this.#l)}set cancelNode(e){ge(this.#l,e,!0)}#c=Le(0);get nestedOpenCount(){return d(this.#c)}set nestedOpenCount(e){ge(this.#c,e,!0)}depth;parent;contentPresence;overlayPresence;constructor(e,n){this.opts=e,this.parent=n,this.depth=n?n.depth+1:0,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.contentPresence=new ar({ref:Pe(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),this.overlayPresence=new ar({ref:Pe(()=>this.overlayNode),open:this.opts.open,enabled:!0}),$r(()=>this.opts.open.current,s=>{this.parent&&(s?this.parent.incrementNested():this.parent.decrementNested())},{lazy:!0}),Kr(()=>{this.opts.open.current&&this.parent?.decrementNested()})}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}getBitsAttr=e=>Ls.getAttr(e,this.opts.variant.current);incrementNested(){this.nestedOpenCount++,this.parent?.incrementNested()}decrementNested(){this.nestedOpenCount!==0&&(this.nestedOpenCount--,this.parent?.decrementNested())}#u=re(()=>({"data-state":tn(this.opts.open.current)}));get sharedProps(){return d(this.#u)}set sharedProps(e){ge(this.#u,e)}}class tr{static create(e){return new tr(e,ht.get())}opts;root;attachment;constructor(e,n){this.opts=e,this.root=n,this.attachment=Lt(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button>0||this.root.handleClose()}onkeydown(e){this.opts.disabled.current||(e.key===Qr||e.key===Zr)&&(e.preventDefault(),this.root.handleClose())}#e=re(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return d(this.#e)}set props(e){ge(this.#e,e)}}class rr{static create(e){return new rr(e,ht.get())}opts;root;attachment;constructor(e,n){this.opts=e,this.root=n,this.root.titleId=this.opts.id.current,this.attachment=Lt(this.opts.ref),$r.pre(()=>this.opts.id.current,s=>{this.root.titleId=s})}#e=re(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,[this.root.getBitsAttr("title")]:"",...this.root.sharedProps,...this.attachment}));get props(){return d(this.#e)}set props(e){ge(this.#e,e)}}class nr{static create(e){return new nr(e,ht.get())}opts;root;attachment;constructor(e,n){this.opts=e,this.root=n,this.attachment=Lt(this.opts.ref,s=>{this.root.contentNode=s,this.root.contentId=s?.id})}#e=re(()=>({open:this.root.opts.open.current}));get snippetProps(){return d(this.#e)}set snippetProps(e){ge(this.#e,e)}#t=re(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0,"--bits-dialog-depth":this.root.depth,"--bits-dialog-nested-count":this.root.nestedOpenCount},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,"data-nested-open":kt(this.root.nestedOpenCount>0),"data-nested":kt(this.root.parent!==null),...this.root.sharedProps,...this.attachment}));get props(){return d(this.#t)}set props(e){ge(this.#t,e)}get shouldRender(){return this.root.contentPresence.shouldRender}}class sr{static create(e){return new sr(e,ht.get())}opts;root;attachment;constructor(e,n){this.opts=e,this.root=n,this.attachment=Lt(this.opts.ref,s=>this.root.overlayNode=s)}#e=re(()=>({open:this.root.opts.open.current}));get snippetProps(){return d(this.#e)}set snippetProps(e){ge(this.#e,e)}#t=re(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto","--bits-dialog-depth":this.root.depth,"--bits-dialog-nested-count":this.root.nestedOpenCount},"data-nested-open":kt(this.root.nestedOpenCount>0),"data-nested":kt(this.root.parent!==null),...this.root.sharedProps,...this.attachment}));get props(){return d(this.#t)}set props(e){ge(this.#t,e)}get shouldRender(){return this.root.overlayPresence.shouldRender}}var Ms=I("<div><!></div>");function Us(t,e){const n=Nt();ve(e,!0);let s=Y(e,"id",19,()=>Mt(n)),o=Y(e,"ref",15,null),r=Y(e,"level",3,2),a=we(e,["$$slots","$$events","$$legacy","id","ref","child","children","level"]);const u=rr.create({id:Pe(()=>s()),level:Pe(()=>r()),ref:Pe(()=>o(),w=>o(w))}),c=re(()=>et(a,u.props));var f=B(),l=x(f);{var y=w=>{var m=B(),T=x(m);_e(T,()=>e.child,()=>({props:d(c)})),i(w,m)},p=w=>{var m=Ms();ct(m,()=>({...d(c)}));var T=k(m);_e(T,()=>e.children??me),E(m),i(w,m)};oe(l,w=>{e.child?w(y):w(p,!1)})}i(t,f),pe()}var Fs=I("<div><!></div>");function Ds(t,e){const n=Nt();ve(e,!0);let s=Y(e,"id",19,()=>Mt(n)),o=Y(e,"forceMount",3,!1),r=Y(e,"ref",15,null),a=we(e,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const u=sr.create({id:Pe(()=>s()),ref:Pe(()=>r(),p=>r(p))}),c=re(()=>et(a,u.props));var f=B(),l=x(f);{var y=p=>{var w=B(),m=x(w);{var T=Q=>{var L=B(),F=x(L);{let h=re(()=>({props:et(d(c)),...u.snippetProps}));_e(F,()=>e.child,()=>d(h))}i(Q,L)},q=Q=>{var L=Fs();ct(L,h=>({...h}),[()=>et(d(c))]);var F=k(L);_e(F,()=>e.children??me,()=>u.snippetProps),E(L),i(Q,L)};oe(m,Q=>{e.child?Q(T):Q(q,!1)})}i(p,w)};oe(l,p=>{(u.shouldRender||o())&&p(y)})}i(t,f),pe()}function Bs(t,e){ve(e,!0);let n=Y(e,"open",15,!1),s=Y(e,"onOpenChange",3,pt),o=Y(e,"onOpenChangeComplete",3,pt);er.create({variant:Pe(()=>"dialog"),open:Pe(()=>n(),u=>{n(u),s()(u)}),onOpenChangeComplete:Pe(()=>o())});var r=B(),a=x(r);_e(a,()=>e.children??me),i(t,r),pe()}var qs=I("<button><!></button>");function js(t,e){const n=Nt();ve(e,!0);let s=Y(e,"id",19,()=>Mt(n)),o=Y(e,"ref",15,null),r=Y(e,"disabled",3,!1),a=we(e,["$$slots","$$events","$$legacy","children","child","id","ref","disabled"]);const u=tr.create({variant:Pe(()=>"close"),id:Pe(()=>s()),ref:Pe(()=>o(),w=>o(w)),disabled:Pe(()=>!!r())}),c=re(()=>et(a,u.props));var f=B(),l=x(f);{var y=w=>{var m=B(),T=x(m);_e(T,()=>e.child,()=>({props:d(c)})),i(w,m)},p=w=>{var m=qs();ct(m,()=>({...d(c)}));var T=k(m);_e(T,()=>e.children??me),E(m),i(w,m)};oe(l,w=>{e.child?w(y):w(p,!1)})}i(t,f),pe()}var Vs=I("<!> <!>",1),Gs=I("<!> <div><!></div>",1);function Hs(t,e){const n=Nt();ve(e,!0);let s=Y(e,"id",19,()=>Mt(n)),o=Y(e,"ref",15,null),r=Y(e,"forceMount",3,!1),a=Y(e,"onCloseAutoFocus",3,pt),u=Y(e,"onOpenAutoFocus",3,pt),c=Y(e,"onEscapeKeydown",3,pt),f=Y(e,"onInteractOutside",3,pt),l=Y(e,"trapFocus",3,!0),y=Y(e,"preventScroll",3,!0),p=Y(e,"restoreScrollDelay",3,null),w=we(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const m=nr.create({id:Pe(()=>s()),ref:Pe(()=>o(),F=>o(F))}),T=re(()=>et(w,m.props));var q=B(),Q=x(q);{var L=F=>{rn(F,{get ref(){return m.opts.ref},loop:!0,get trapFocus(){return l()},get enabled(){return m.root.opts.open.current},get onOpenAutoFocus(){return u()},get onCloseAutoFocus(){return a()},focusScope:($e,G)=>{let ke=()=>G?.().props;nn($e,Re(()=>d(T),{get enabled(){return m.root.opts.open.current},get ref(){return m.opts.ref},onEscapeKeydown:Ee=>{c()(Ee),!Ee.defaultPrevented&&m.root.handleClose()},children:(Ee,Oe)=>{sn(Ee,Re(()=>d(T),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},onInteractOutside:Ce=>{f()(Ce),!Ce.defaultPrevented&&m.root.handleClose()},children:(Ce,He)=>{on(Ce,Re(()=>d(T),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},children:(ut,xe)=>{var ae=B(),Te=x(ae);{var Ie=_=>{var O=Vs(),v=x(O);{var V=H=>{ir(H,{get preventScroll(){return y()},get restoreScrollDelay(){return p()}})};oe(v,H=>{m.root.opts.open.current&&H(V)})}var j=$(v,2);{let H=re(()=>({props:et(d(T),ke()),...m.snippetProps}));_e(j,()=>e.child,()=>d(H))}i(_,O)},_t=_=>{var O=Gs(),v=x(O);ir(v,{get preventScroll(){return y()}});var V=$(v,2);ct(V,H=>({...H}),[()=>et(d(T),ke())]);var j=k(V);_e(j,()=>e.children??me),E(V),i(_,O)};oe(Te,_=>{e.child?_(Ie):_(_t,!1)})}i(ut,ae)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{focusScope:!0}})};oe(Q,F=>{(m.shouldRender||r())&&F(L)})}i(t,q),pe()}function Qe(t,e){ve(e,!0);let n=Y(e,"open",15,!1),s=we(e,["$$slots","$$events","$$legacy","open"]);var o=B(),r=x(o);U(r,()=>Bs,(a,u)=>{u(a,Re(()=>s,{get open(){return n()},set open(c){n(c)}}))}),i(t,o),pe()}function Ws(t,e){let n=we(e,["$$slots","$$events","$$legacy"]);var s=B(),o=x(s);U(o,()=>an,(r,a)=>{a(r,Re(()=>n))}),i(t,s)}function st(t,e){ve(e,!0);let n=Y(e,"ref",15,null),s=we(e,["$$slots","$$events","$$legacy","ref","class"]);var o=B(),r=x(o);{let a=re(()=>mt("text-lg leading-none font-semibold",e.class));U(r,()=>Us,(u,c)=>{c(u,Re({"data-slot":"dialog-title",get class(){return d(a)}},()=>s,{get ref(){return n()},set ref(f){n(f)}}))})}i(t,o),pe()}var zs=I("<div><!></div>");function ot(t,e){ve(e,!0);let n=Y(e,"ref",15,null),s=we(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=zs();ct(o,a=>({"data-slot":"dialog-footer",class:a,...s}),[()=>mt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var r=k(o);_e(r,()=>e.children??me),E(o),Kt(o,a=>n(a),()=>n()),i(t,o),pe()}var Js=I("<div><!></div>");function at(t,e){ve(e,!0);let n=Y(e,"ref",15,null),s=we(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=Js();ct(o,a=>({"data-slot":"dialog-header",class:a,...s}),[()=>mt("flex flex-col gap-2 text-center sm:text-start",e.class)]);var r=k(o);_e(r,()=>e.children??me),E(o),Kt(o,a=>n(a),()=>n()),i(t,o),pe()}function Xs(t,e){ve(e,!0);let n=Y(e,"ref",15,null),s=we(e,["$$slots","$$events","$$legacy","ref","class"]);var o=B(),r=x(o);{let a=re(()=>mt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));U(r,()=>Ds,(u,c)=>{c(u,Re({"data-slot":"dialog-overlay",get class(){return d(a)}},()=>s,{get ref(){return n()},set ref(f){n(f)}}))})}i(t,o),pe()}var Ys=I('<!> <span class="sr-only">Close</span>',1),Qs=I("<!> <!>",1),Zs=I("<!> <!>",1);function Ze(t,e){ve(e,!0);let n=Y(e,"ref",15,null),s=Y(e,"showCloseButton",3,!0),o=we(e,["$$slots","$$events","$$legacy","ref","class","portalProps","children","showCloseButton"]);Ws(t,Re(()=>e.portalProps,{children:(r,a)=>{var u=Zs(),c=x(u);U(c,()=>Xs,(l,y)=>{y(l,{})});var f=$(c,2);{let l=re(()=>mt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed start-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));U(f,()=>Hs,(y,p)=>{p(y,Re({"data-slot":"dialog-content",get class(){return d(l)}},()=>o,{get ref(){return n()},set ref(w){n(w)},children:(w,m)=>{var T=Qs(),q=x(T);_e(q,()=>e.children??me);var Q=$(q,2);{var L=F=>{var h=B(),$e=x(h);U($e,()=>js,(G,ke)=>{ke(G,{class:"ring-offset-background focus:ring-ring absolute end-4 top-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:(Ee,Oe)=>{var Ce=Ys(),He=x(Ce);Tr(He,{}),te(2),i(Ee,Ce)},$$slots:{default:!0}})}),i(F,h)};oe(Q,F=>{s()&&F(L)})}i(w,T)},$$slots:{default:!0}}))})}i(r,u)},$$slots:{default:!0}})),pe()}var Ks=I("<textarea></textarea>");function eo(t,e){ve(e,!0);let n=Y(e,"ref",15,null),s=Y(e,"value",15),o=Y(e,"data-slot",3,"textarea"),r=we(e,["$$slots","$$events","$$legacy","ref","value","class","data-slot"]);var a=Ks();Hr(a),ct(a,u=>({"data-slot":o(),class:u,...r}),[()=>mt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),Kt(a,u=>n(u),()=>n()),xr(a,s),i(t,a),pe()}var to=I(`<div><span class="flex-1"> </span> <div class="relative"><button class="text-current hover:opacity-70 transition-opacity p-2 after:content-[''] after:absolute after:inset-0 cursor-pointer"><!></button></div></div>`),ro=I('<div class="space-y-2"><label for="confirm-password" class="text-sm font-medium"> </label> <!></div>'),no=I("<!> <!>",1),so=I('<!> <p class="text-muted-foreground"> </p> <!> <!>',1),oo=I('<div class="w-full bg-muted rounded-full h-2 mb-4"><div class="bg-primary h-2 rounded-full transition-all duration-300"></div></div> <p class="text-sm text-muted-foreground"> </p>',1),ao=I('<div class="text-center py-4"><!> <h3 class="text-lg font-medium mb-2"> </h3> <!> <!></div>'),io=I("<div></div>"),lo=I('<div class="mb-4"><div class="flex gap-1 mb-2"></div> <div class="w-full bg-muted rounded-full h-1"><div class="bg-primary h-1 rounded-full transition-all duration-300"></div></div></div>'),co=I('<div class="flex justify-between w-full"><div><!></div> <div class="flex gap-2"><!> <!></div></div>'),uo=I('<!> <!> <p class="text-muted-foreground mb-4"> </p> <!> <!>',1),fo=I('<span class="text-destructive">*</span>'),vo=I("<option> </option>"),po=I("<option> </option>"),ho=I('<select class="flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-xs transition-colors focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 focus-visible:border-ring"><!></select>'),go=I('<label class="flex items-center gap-2"><input type="checkbox" class="rounded border-input text-primary focus:ring-primary"/> <span class="text-sm text-muted-foreground"> </span></label>'),mo=I('<p class="text-sm text-destructive"> </p>'),_o=I('<div class="space-y-2"><label class="text-sm font-medium"> <!></label> <!> <!></div>'),yo=I("<!> <!>",1),bo=I('<!> <form class="space-y-4"></form> <!>',1),wo=I('<div class="relative mb-4"><!> <!></div>'),$o=I('<div class="w-2 h-2 bg-primary-foreground rounded-full"></div>'),xo=I("<div><!></div>"),Po=I('<button><div class="flex items-center justify-between"><span> </span> <!></div></button>'),Oo=I("<!> <!>",1),So=I('<!> <!> <div class="max-h-64 overflow-y-auto space-y-2"></div> <!>',1),Ro=I('<div class="flex items-center justify-between p-2 bg-muted rounded"><span class="text-sm"> </span> <span class="text-xs text-muted-foreground"> </span></div>'),Eo=I('<div class="mt-4 space-y-2"><h4 class="font-medium">Selected Files:</h4> <!></div>'),To=I("<!> <!>",1),Io=I('<!> <div role="button" tabindex="0"><!> <p class="text-muted-foreground mb-4">Drag and drop files here, or click to select</p> <input type="file" class="hidden" id="fileInput"/> <!></div> <!> <!>',1),Co=I("<button></button>"),Ao=I("<!> <!>",1),ko=I('<!> <div class="space-y-4"><input type="color" class="w-full h-32 rounded-lg border border-input cursor-pointer"/> <!> <div class="grid grid-cols-8 gap-2"></div></div> <!>',1),No=I("<!> <!>",1),Lo=I("<!> <!> <!>",1),Mo=I('<div class="fixed bottom-4 right-4 z-2147483647 space-y-2"></div> <!> <!> <!> <!> <!> <!> <!> <!>',1);function Uo(t,e){ve(e,!0);let n=Le(Jt([])),s=0,o=null,r=Jt({confirm:{title:"Confirm",show:!1,message:"",password:"",passwordInput:"",resolve:null,options:{}},prompt:{title:"Prompt",show:!1,question:"",answer:"",options:{},resolve:null,isMulti:!1,currentIndex:0,answers:[]},form:{title:"Form",show:!1,fields:[],data:{},errors:{},options:{},resolve:null},select:{title:"Select",show:!1,options:[],config:{},value:[],search:"",resolve:null},file:{title:"Upload Files",show:!1,options:{},resolve:null,dragOver:!1,selected:[]},loading:{title:"Loading",show:!1,message:"",progress:0,cancellable:!1,cancelFn:null},color:{title:"Pick a Color",show:!1,value:"#3b82f6",resolve:null},date:{title:"Select Date",show:!1,value:"",resolve:null}});const a={error:"bg-red-600/80 text-red-100 border-red-200/20 bg-blur-sm",confirm:"bg-blue-600/80 text-blue-100 border-blue-200/20 bg-blur-sm",success:"bg-green-600/80 text-green-100 border-green-200/20 bg-blur-sm",notification:"bg-yellow-500/80 text-yellow-100 border-yellow-200/20 bg-blur-sm"},u=(_="",O="notification",v=!0,V=!1,j=O==="error"?8500:3500)=>{const H=++s;ge(n,[...d(n),{_id:H,msg:_,type:O}],!0),v&&setTimeout(()=>c(H),j),V&&(o=V)},c=_=>{ge(n,d(n).filter(O=>O._id!==_),!0),o&&(o(),o=null)},f=(_,O)=>new Promise(v=>Object.assign(r[_],O,{show:!0,resolve:v})),l=(_,O)=>{const v=r[_];v.show=!1,"resolve"in v&&v.resolve&&(v.resolve(O),v.resolve=null)},y=(_,O="",v={})=>f("confirm",{message:_,password:O,passwordInput:"",...v}),p=(_,O={})=>{const v=Array.isArray(_);return f("prompt",{question:_,answer:v?[]:"",answers:v?[]:void 0,options:O,isMulti:v,currentIndex:0,...O})},w=(_,O={})=>{const v={};return _.forEach(V=>v[V.name]=V.type==="checkbox"?!1:V.type==="file"&&V.multiple?[]:""),f("form",{fields:_,data:v,errors:{},options:O})},m=(_,O={})=>f("select",{options:_,config:O,value:O.multiple?[]:"",search:""}),T=(_={})=>f("file",{options:_,dragOver:!1,selected:[]}),q=async(_,O={})=>{const v=typeof O=="string"?{message:O}:O;return new Promise((V,j)=>{r.loading={...r.loading,message:v.message||"Loading...",progress:0,cancellable:v.cancellable||!1,show:!0};let H=!1;r.loading.cancelFn=()=>{H=!0,r.loading.show=!1,j(new Error("Cancelled"))};const ue=ie=>{H||(r.loading.progress=Math.max(0,Math.min(100,ie)))};_(v.progress?ue:void 0).then(ie=>{H||(r.loading.show=!1,V(ie))}).catch(ie=>{H||(r.loading.show=!1,j(ie))})})},Q=(_="#3b82f6")=>f("color",{value:_}),L=_=>f("date",{value:_||new Date().toISOString().split("T")[0]}),F=_=>{if(_&&r.confirm.password&&r.confirm.passwordInput!==r.confirm.password){u("Incorrect password. Please try again","error");return}l("confirm",_)},h=_=>{if(!_)return l("prompt",null);if(r.prompt.isMulti){const O=r.prompt.question;if(r.prompt.answers[r.prompt.currentIndex]=r.prompt.answer,r.prompt.currentIndex<O.length-1){r.prompt.currentIndex++,r.prompt.answer=r.prompt.answers[r.prompt.currentIndex]||"";return}l("prompt",r.prompt.answers)}else l("prompt",r.prompt.answer)},$e=()=>{const _={};let O=!0;r.form.fields.forEach(v=>{const V=r.form.data[v.name];if(v.required&&(!V||Array.isArray(V)&&V.length===0)&&(_[v.name]=`${v.label||v.name} is required`,O=!1),v.validation&&V){const j=v.validation(V);j&&(_[v.name]=j,O=!1)}v.type==="email"&&V&&typeof V=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V)&&(_[v.name]="Please enter a valid email address",O=!1)}),O?l("form",{...r.form.data}):r.form.errors=_},G=()=>!r.select.config.searchable||!r.select.search?r.select.options:r.select.options.filter(_=>(typeof _=="string"?_:_.label).toLowerCase().includes(r.select.search.toLowerCase()));Wr(()=>{window.alert=u,window.confirm=y,window.prompt=p,window.form=w,window.select=m,window.uploadFile=T,window.loading=q,window.pickColor=Q,window.pickDate=L});var ke={alert:u},Ee=Mo(),Oe=x(Ee);Ke(Oe,21,()=>d(n),_=>_._id,(_,O)=>{var v=to(),V=k(v),j=k(V,!0);E(V);var H=$(V,2),ue=k(H);ue.__click=()=>c(d(O)._id);var ie=k(ue);Tr(ie,{class:"w-5 h-5"}),E(ue),E(H),E(v),z(()=>{lt(v,1,`min-w-64 flex items-center gap-3 p-4 rounded-lg border shadow-lg backdrop-blur-sm transition-all duration-300 hover:shadow-xl ${a[d(O).type]??""}`),K(j,d(O).msg)}),cr(1,v,()=>br,()=>({y:-10,duration:100})),cr(2,v,()=>br,()=>({y:10,duration:100})),i(_,v)}),E(Oe);var Ce=$(Oe,2);U(Ce,()=>Qe,(_,O)=>{O(_,{onOpenChange:v=>!v&&F(!1),get open(){return r.confirm.show},set open(v){r.confirm.show=v},children:(v,V)=>{var j=B(),H=x(j);U(H,()=>Ze,(ue,ie)=>{ie(ue,{children:(Se,Je)=>{var ce=so(),le=x(ce);U(le,()=>at,(A,b)=>{b(A,{children:(g,P)=>{var R=B(),C=x(R);U(C,()=>st,(N,M)=>{M(N,{children:(J,W)=>{te();var D=se();z(()=>K(D,r.confirm.title||"Confirm")),i(J,D)},$$slots:{default:!0}})}),i(g,R)},$$slots:{default:!0}})});var X=$(le,2),de=k(X,!0);E(X);var Z=$(X,2);{var ne=A=>{var b=ro(),g=k(b),P=k(g);E(g);var R=$(g,2);ft(R,{id:"confirm-password",type:"text",get placeholder(){return r.confirm.password},onkeydown:C=>C.key==="Enter"&&F(!0),get value(){return r.confirm.passwordInput},set value(C){r.confirm.passwordInput=C}}),E(b),z(()=>K(P,`Type "${r.confirm.password??""}" to confirm:`)),i(A,b)};oe(Z,A=>{r.confirm.password&&A(ne)})}var S=$(Z,2);U(S,()=>ot,(A,b)=>{b(A,{children:(g,P)=>{var R=no(),C=x(R);ye(C,{variant:"outline",onclick:()=>F(!1),children:(M,J)=>{te();var W=se();z(()=>K(W,r.confirm.options.cancelText||"Cancel")),i(M,W)},$$slots:{default:!0}});var N=$(C,2);ye(N,{onclick:()=>F(!0),children:(M,J)=>{te();var W=se();z(()=>K(W,r.confirm.options.confirmText||"Confirm")),i(M,W)},$$slots:{default:!0}}),i(g,R)},$$slots:{default:!0}})}),z(()=>K(de,r.confirm.message)),i(Se,ce)},$$slots:{default:!0}})}),i(v,j)},$$slots:{default:!0}})});var He=$(Ce,2);U(He,()=>Qe,(_,O)=>{O(_,{get open(){return r.loading.show},set open(v){r.loading.show=v},children:(v,V)=>{var j=B(),H=x(j);U(H,()=>Ze,(ue,ie)=>{ie(ue,{showCloseButton:!1,children:(Se,Je)=>{var ce=ao(),le=k(ce);ks(le,{class:"w-12 h-12 mx-auto mb-4 text-primary animate-spin"});var X=$(le,2),de=k(X,!0);E(X);var Z=$(X,2);{var ne=b=>{var g=oo(),P=x(g),R=k(P);E(P);var C=$(P,2),N=k(C);E(C),z(M=>{qt(R,`width: ${r.loading.progress??""}%`),K(N,`${M??""}%`)},[()=>Math.round(r.loading.progress)]),i(b,g)};oe(Z,b=>{r.loading.progress>0&&b(ne)})}var S=$(Z,2);{var A=b=>{ye(b,{variant:"outline",onclick:()=>r.loading.cancelFn?.(),class:"mt-4",children:(g,P)=>{te();var R=se("Cancel");i(g,R)},$$slots:{default:!0}})};oe(S,b=>{r.loading.cancellable&&b(A)})}E(ce),z(()=>K(de,r.loading.message)),i(Se,ce)},$$slots:{default:!0}})}),i(v,j)},$$slots:{default:!0}})});var ut=$(He,2);U(ut,()=>Qe,(_,O)=>{O(_,{onOpenChange:v=>!v&&h(!1),get open(){return r.prompt.show},set open(v){r.prompt.show=v},children:(v,V)=>{var j=B(),H=x(j);U(H,()=>Ze,(ue,ie)=>{ie(ue,{children:(Se,Je)=>{var ce=uo(),le=x(ce);U(le,()=>at,(b,g)=>{g(b,{children:(P,R)=>{var C=B(),N=x(C);U(N,()=>st,(M,J)=>{J(M,{children:(W,D)=>{te();var ee=se();z(()=>K(ee,r.prompt.isMulti?`Question ${r.prompt.currentIndex+1} of ${r.prompt.question.length}`:r.prompt.title||"Input Required")),i(W,ee)},$$slots:{default:!0}})}),i(P,C)},$$slots:{default:!0}})});var X=$(le,2);{var de=b=>{var g=lo(),P=k(g);Ke(P,21,()=>r.prompt.question,it,(N,M,J)=>{var W=io();z(()=>lt(W,1,`w-2 h-2 rounded-full ${J<=r.prompt.currentIndex?"bg-primary":"bg-muted"}`)),i(N,W)}),E(P);var R=$(P,2),C=k(R);E(R),E(g),z(()=>qt(C,`width: ${(r.prompt.currentIndex+1)/r.prompt.question.length*100}%`)),i(b,g)};oe(X,b=>{r.prompt.isMulti&&b(de)})}var Z=$(X,2),ne=k(Z,!0);E(Z);var S=$(Z,2);{let b=re(()=>r.prompt.options.type==="password"?"password":"text"),g=re(()=>Array.isArray(r.prompt.options?.placeholder)?r.prompt.options.placeholder[r.prompt.currentIndex||0]||"...":r.prompt.options?.placeholder||"...");ft(S,{get type(){return d(b)},get placeholder(){return d(g)},onkeydown:P=>P.key==="Enter"?h(!0):P.key==="Escape"&&h(!1),get value(){return r.prompt.answer},set value(P){r.prompt.answer=P}})}var A=$(S,2);U(A,()=>ot,(b,g)=>{g(b,{class:"mt-4",children:(P,R)=>{var C=co(),N=k(C),M=k(N);{var J=fe=>{ye(fe,{variant:"outline",onclick:()=>{r.prompt.answers[r.prompt.currentIndex]=r.prompt.answer,r.prompt.currentIndex--,r.prompt.answer=r.prompt.answers[r.prompt.currentIndex]||""},children:(tt,Ne)=>{te();var Be=se("Back");i(tt,Be)},$$slots:{default:!0}})};oe(M,fe=>{r.prompt.isMulti&&r.prompt.currentIndex>0&&fe(J)})}E(N);var W=$(N,2),D=k(W);ye(D,{variant:"outline",onclick:()=>h(!1),children:(fe,tt)=>{te();var Ne=se();z(()=>K(Ne,r.prompt.options.cancel||"Cancel")),i(fe,Ne)},$$slots:{default:!0}});var ee=$(D,2);ye(ee,{onclick:()=>h(!0),children:(fe,tt)=>{te();var Ne=se();z(()=>K(Ne,r.prompt.isMulti&&r.prompt.currentIndex<r.prompt.question.length-1?"Next":r.prompt.options.ok||"Ok")),i(fe,Ne)},$$slots:{default:!0}}),E(W),E(C),i(P,C)},$$slots:{default:!0}})}),z(b=>K(ne,b),[()=>Array.isArray(r.prompt.question)?r.prompt.question[r.prompt.currentIndex]:r.prompt.question]),i(Se,ce)},$$slots:{default:!0}})}),i(v,j)},$$slots:{default:!0}})});var xe=$(ut,2);U(xe,()=>Qe,(_,O)=>{O(_,{onOpenChange:v=>!v&&l("form",null),get open(){return r.form.show},set open(v){r.form.show=v},children:(v,V)=>{var j=B(),H=x(j);{let ue=re(()=>r.form.options.width==="lg"?"sm:max-w-2xl":"");U(H,()=>Ze,(ie,Se)=>{Se(ie,{get class(){return d(ue)},children:(Je,ce)=>{var le=bo(),X=x(le);U(X,()=>at,(ne,S)=>{S(ne,{children:(A,b)=>{var g=B(),P=x(g);U(P,()=>st,(R,C)=>{C(R,{children:(N,M)=>{te();var J=se();z(()=>K(J,r.form.options.title||"Form")),i(N,J)},$$slots:{default:!0}})}),i(A,g)},$$slots:{default:!0}})});var de=$(X,2);Ke(de,21,()=>r.form.fields,it,(ne,S)=>{var A=_o(),b=k(A),g=k(b),P=$(g);{var R=D=>{var ee=fo();i(D,ee)};oe(P,D=>{d(S).required&&D(R)})}E(b);var C=$(b,2);{var N=D=>{eo(D,{get id(){return d(S).name},get placeholder(){return d(S).placeholder},get value(){return r.form.data[d(S).name]},set value(ee){r.form.data[d(S).name]=ee}})},M=D=>{var ee=B(),fe=x(ee);{var tt=Be=>{var Xe=ho(),Ut=k(Xe);{var Ft=rt=>{var We=B(),nt=x(We);Ke(nt,17,()=>d(S).options,it,(yt,qe)=>{var Pt=B(),Dt=x(Pt);{var Ir=dt=>{var Ue=vo(),Bt=k(Ue,!0);E(Ue);var bt={};z(()=>{K(Bt,d(qe)),bt!==(bt=d(qe))&&(Ue.value=(Ue.__value=d(qe))??"")}),i(dt,Ue)},Cr=dt=>{var Ue=po(),Bt=k(Ue,!0);E(Ue);var bt={};z(()=>{K(Bt,d(qe).label),bt!==(bt=d(qe).value)&&(Ue.value=(Ue.__value=d(qe).value)??"")}),i(dt,Ue)};oe(Dt,dt=>{typeof d(qe)=="string"?dt(Ir):dt(Cr,!1)})}i(yt,Pt)}),i(rt,We)};oe(Ut,rt=>{d(S).options&&rt(Ft)})}E(Xe),z(()=>xt(Xe,"id",d(S).name)),Jr(Xe,()=>r.form.data[d(S).name],rt=>r.form.data[d(S).name]=rt),i(Be,Xe)},Ne=Be=>{var Xe=B(),Ut=x(Xe);{var Ft=We=>{var nt=go(),yt=k(nt);or(yt);var qe=$(yt,2),Pt=k(qe,!0);E(qe),E(nt),z(()=>K(Pt,d(S).placeholder||"Check this box")),ln(yt,()=>r.form.data[d(S).name],Dt=>r.form.data[d(S).name]=Dt),i(We,nt)},rt=We=>{ft(We,{get id(){return d(S).name},get type(){return d(S).type},get placeholder(){return d(S).placeholder},get value(){return r.form.data[d(S).name]},set value(nt){r.form.data[d(S).name]=nt}})};oe(Ut,We=>{d(S).type==="checkbox"?We(Ft):We(rt,!1)},!0)}i(Be,Xe)};oe(fe,Be=>{d(S).type==="select"?Be(tt):Be(Ne,!1)},!0)}i(D,ee)};oe(C,D=>{d(S).type==="textarea"?D(N):D(M,!1)})}var J=$(C,2);{var W=D=>{var ee=mo(),fe=k(ee,!0);E(ee),z(()=>K(fe,r.form.errors[d(S).name])),i(D,ee)};oe(J,D=>{r.form.errors[d(S).name]&&D(W)})}E(A),z(()=>{xt(b,"for",d(S).name),K(g,`${(d(S).label||d(S).name)??""} `)}),i(ne,A)}),E(de);var Z=$(de,2);U(Z,()=>ot,(ne,S)=>{S(ne,{children:(A,b)=>{var g=yo(),P=x(g);ye(P,{variant:"outline",onclick:()=>l("form",null),children:(C,N)=>{te();var M=se();z(()=>K(M,r.form.options.cancelText||"Cancel")),i(C,M)},$$slots:{default:!0}});var R=$(P,2);ye(R,{onclick:$e,children:(C,N)=>{te();var M=se();z(()=>K(M,r.form.options.submitText||"Submit")),i(C,M)},$$slots:{default:!0}}),i(A,g)},$$slots:{default:!0}})}),Ot("submit",de,ne=>{ne.preventDefault(),$e()}),i(Je,le)},$$slots:{default:!0}})})}i(v,j)},$$slots:{default:!0}})});var ae=$(xe,2);U(ae,()=>Qe,(_,O)=>{O(_,{onOpenChange:v=>!v&&l("select",null),get open(){return r.select.show},set open(v){r.select.show=v},children:(v,V)=>{var j=B(),H=x(j);U(H,()=>Ze,(ue,ie)=>{ie(ue,{children:(Se,Je)=>{var ce=So(),le=x(ce);U(le,()=>at,(S,A)=>{A(S,{children:(b,g)=>{var P=B(),R=x(P);U(R,()=>st,(C,N)=>{N(C,{children:(M,J)=>{te();var W=se();z(()=>K(W,r.select.config.title||"Select Option")),i(M,W)},$$slots:{default:!0}})}),i(b,P)},$$slots:{default:!0}})});var X=$(le,2);{var de=S=>{var A=wo(),b=k(A);As(b,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"});var g=$(b,2);{let P=re(()=>r.select.config.placeholder||"Search...");ft(g,{type:"search",name:"search-select",get placeholder(){return d(P)},class:"pl-10",get value(){return r.select.search},set value(R){r.select.search=R}})}E(A),i(S,A)};oe(X,S=>{r.select.config.searchable&&S(de)})}var Z=$(X,2);Ke(Z,21,G,it,(S,A)=>{const b=re(()=>typeof d(A)=="string"?d(A):d(A).value),g=re(()=>typeof d(A)=="string"?d(A):d(A).label),P=re(()=>r.select.config.multiple?r.select.value.includes(d(b)):r.select.value===d(b));var R=Po();R.__click=()=>{if(r.select.config.multiple){const D=r.select.value;r.select.value=D.includes(d(b))?D.filter(ee=>ee!==d(b)):[...D,d(b)]}else r.select.value=d(b)};var C=k(R),N=k(C),M=k(N,!0);E(N);var J=$(N,2);{var W=D=>{var ee=xo(),fe=k(ee);{var tt=Ne=>{var Be=$o();i(Ne,Be)};oe(fe,Ne=>{r.select.config.multiple&&Ne(tt)})}E(ee),z(()=>lt(ee,1,`w-4 h-4 bg-primary rounded-full ${r.select.config.multiple?"flex items-center justify-center":""}`)),i(D,ee)};oe(J,D=>{d(P)&&D(W)})}E(C),E(R),z(()=>{lt(R,1,`w-full text-left p-3 rounded-lg border transition-colors ${d(P)?"bg-primary/10 border-primary text-primary":"bg-background border-border hover:bg-accent"}`),K(M,d(g))}),i(S,R)}),E(Z);var ne=$(Z,2);U(ne,()=>ot,(S,A)=>{A(S,{children:(b,g)=>{var P=Oo(),R=x(P);ye(R,{variant:"outline",onclick:()=>l("select",null),children:(N,M)=>{te();var J=se("Cancel");i(N,J)},$$slots:{default:!0}});var C=$(R,2);ye(C,{onclick:()=>l("select",r.select.config.multiple?[...r.select.value]:r.select.value),children:(N,M)=>{te();var J=se("Select");i(N,J)},$$slots:{default:!0}}),i(b,P)},$$slots:{default:!0}})}),i(Se,ce)},$$slots:{default:!0}})}),i(v,j)},$$slots:{default:!0}})});var Te=$(ae,2);U(Te,()=>Qe,(_,O)=>{O(_,{onOpenChange:v=>!v&&l("file",null),get open(){return r.file.show},set open(v){r.file.show=v},children:(v,V)=>{var j=B(),H=x(j);U(H,()=>Ze,(ue,ie)=>{ie(ue,{children:(Se,Je)=>{var ce=Io(),le=x(ce);U(le,()=>at,(g,P)=>{P(g,{children:(R,C)=>{var N=B(),M=x(N);U(M,()=>st,(J,W)=>{W(J,{children:(D,ee)=>{te();var fe=se();z(()=>K(fe,r.file.title||"Upload Files")),i(D,fe)},$$slots:{default:!0}})}),i(R,N)},$$slots:{default:!0}})});var X=$(le,2);X.__keydown=g=>g.key==="Enter"&&document.getElementById("fileInput")?.click();var de=k(X);Cs(de,{class:"mx-auto w-12 h-12 text-muted-foreground mb-4"});var Z=$(de,4);Z.__change=g=>{const P=g.target;P.files&&(r.file.selected=Array.from(P.files))};var ne=$(Z,2);ye(ne,{onclick:()=>document.getElementById("fileInput")?.click(),children:(g,P)=>{te();var R=se("Choose Files");i(g,R)},$$slots:{default:!0}}),E(X);var S=$(X,2);{var A=g=>{var P=Eo(),R=$(k(P),2);Ke(R,17,()=>r.file.selected,it,(C,N)=>{var M=Ro(),J=k(M),W=k(J,!0);E(J);var D=$(J,2),ee=k(D);E(D),E(M),z(fe=>{K(W,d(N).name),K(ee,`${fe??""} MB`)},[()=>(d(N).size/1024/1024).toFixed(2)]),i(C,M)}),E(P),i(g,P)};oe(S,g=>{r.file.selected.length>0&&g(A)})}var b=$(S,2);U(b,()=>ot,(g,P)=>{P(g,{children:(R,C)=>{var N=To(),M=x(N);ye(M,{variant:"outline",onclick:()=>l("file",null),children:(W,D)=>{te();var ee=se("Cancel");i(W,ee)},$$slots:{default:!0}});var J=$(M,2);{let W=re(()=>r.file.selected.length===0);ye(J,{onclick:()=>l("file",[...r.file.selected]),get disabled(){return d(W)},children:(D,ee)=>{te();var fe=se();z(()=>K(fe,`Upload (${r.file.selected.length??""})`)),i(D,fe)},$$slots:{default:!0}})}i(R,N)},$$slots:{default:!0}})}),z(()=>{lt(X,1,`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r.file.dragOver?"border-primary bg-primary/5":"border-border"}`),xt(Z,"accept",r.file.options.accept),Z.multiple=r.file.options.multiple}),Ot("dragover",X,g=>{g.preventDefault(),r.file.dragOver=!0}),Ot("dragleave",X,g=>{g.preventDefault(),r.file.dragOver=!1}),Ot("drop",X,g=>{g.preventDefault(),r.file.dragOver=!1,g.dataTransfer?.files&&(r.file.selected=Array.from(g.dataTransfer.files))}),i(Se,ce)},$$slots:{default:!0}})}),i(v,j)},$$slots:{default:!0}})});var Ie=$(Te,2);U(Ie,()=>Qe,(_,O)=>{O(_,{onOpenChange:v=>!v&&l("color",null),get open(){return r.color.show},set open(v){r.color.show=v},children:(v,V)=>{var j=B(),H=x(j);U(H,()=>Ze,(ue,ie)=>{ie(ue,{class:"sm:max-w-sm",children:(Se,Je)=>{var ce=ko(),le=x(ce);U(le,()=>at,(A,b)=>{b(A,{children:(g,P)=>{var R=B(),C=x(R);U(C,()=>st,(N,M)=>{M(N,{children:(J,W)=>{te();var D=se();z(()=>K(D,r.color.title||"Pick a Color")),i(J,D)},$$slots:{default:!0}})}),i(g,R)},$$slots:{default:!0}})});var X=$(le,2),de=k(X);or(de);var Z=$(de,2);ft(Z,{type:"text",placeholder:"#3b82f6",class:"font-mono",get value(){return r.color.value},set value(A){r.color.value=A}});var ne=$(Z,2);Ke(ne,20,()=>["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899","#6b7280"],it,(A,b)=>{var g=Co();g.__click=()=>r.color.value=b,z(()=>{xt(g,"aria-label",`Select color ${b??""}`),lt(g,1,`w-8 h-8 rounded border-2 ${r.color.value===b?"border-foreground":"border-border"}`),qt(g,`background-color: ${b??""}`)}),i(A,g)}),E(ne),E(X);var S=$(X,2);U(S,()=>ot,(A,b)=>{b(A,{children:(g,P)=>{var R=Ao(),C=x(R);ye(C,{variant:"outline",onclick:()=>l("color",null),children:(M,J)=>{te();var W=se("Cancel");i(M,W)},$$slots:{default:!0}});var N=$(C,2);ye(N,{onclick:()=>l("color",r.color.value),children:(M,J)=>{te();var W=se("Select");i(M,W)},$$slots:{default:!0}}),i(g,R)},$$slots:{default:!0}})}),xr(de,()=>r.color.value,A=>r.color.value=A),i(Se,ce)},$$slots:{default:!0}})}),i(v,j)},$$slots:{default:!0}})});var _t=$(Ie,2);return U(_t,()=>Qe,(_,O)=>{O(_,{onOpenChange:v=>!v&&l("date",null),get open(){return r.date.show},set open(v){r.date.show=v},children:(v,V)=>{var j=B(),H=x(j);U(H,()=>Ze,(ue,ie)=>{ie(ue,{class:"sm:max-w-sm",children:(Se,Je)=>{var ce=Lo(),le=x(ce);U(le,()=>at,(Z,ne)=>{ne(Z,{children:(S,A)=>{var b=B(),g=x(b);U(g,()=>st,(P,R)=>{R(P,{children:(C,N)=>{te();var M=se();z(()=>K(M,r.date.title||"Select Date")),i(C,M)},$$slots:{default:!0}})}),i(S,b)},$$slots:{default:!0}})});var X=$(le,2);ft(X,{type:"date",get value(){return r.date.value},set value(Z){r.date.value=Z}});var de=$(X,2);U(de,()=>ot,(Z,ne)=>{ne(Z,{children:(S,A)=>{var b=No(),g=x(b);ye(g,{variant:"outline",onclick:()=>l("date",null),children:(R,C)=>{te();var N=se("Cancel");i(R,N)},$$slots:{default:!0}});var P=$(g,2);ye(P,{onclick:()=>l("date",r.date.value),children:(R,C)=>{te();var N=se("Select");i(R,N)},$$slots:{default:!0}}),i(S,b)},$$slots:{default:!0}})}),i(Se,ce)},$$slots:{default:!0}})}),i(v,j)},$$slots:{default:!0}})}),i(t,Ee),pe(ke)}kr(["click","keydown","change"]);var Fo=I("<!> <!> <!>",1);function Jo(t,e){ve(e,!0),zr(()=>{Ps.initialize(e.data.user,e.data.session)});var n=Fo(),s=x(n);Is(s,{});var o=$(s,2);_e(o,()=>e.children);var r=$(o,2);Uo(r,{}),i(t,n),pe()}export{Jo as component};
